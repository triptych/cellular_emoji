<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Emoji Cellular Automata</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div class="container">
            <header>
                <h1>ðŸ§« Emoji Cellular Automata ðŸ§«</h1>
            </header>

            <div class="main-content">
                <div class="control-panel">
                    <div class="panel-section">
                        <h2>Grid Settings</h2>
                        <div class="control-group">
                            <label for="grid-width">Width:</label>
                            <input type="number" id="grid-width" min="10" max="200" value="50">
                        </div>
                        <div class="control-group">
                            <label for="grid-height">Height:</label>
                            <input type="number" id="grid-height" min="10" max="200" value="50">
                        </div>
                        <div class="control-group">
                            <label for="cell-size">Cell Size:</label>
                            <input type="number" id="cell-size" min="5" max="50" value="12">
                        </div>
                        <button id="apply-grid-settings">Apply Settings</button>
                    </div>

                    <div class="panel-section">
                        <h2>Simulation Controls</h2>
                        <div class="simulation-controls">
                            <button id="play-pause" class="btn-success">â–¶ Play</button>
                            <button id="step">Step</button>
                            <button id="clear" class="btn-danger">Clear</button>
                        </div>
                        <div class="control-group">
                            <label for="simulation-speed">Speed (ms):</label>
                            <input type="number" id="simulation-speed" min="50" max="1000" step="50" value="200">
                        </div>
                        <div class="control-group">
                            <label for="random-fill">Random Fill %:</label>
                            <input type="number" id="random-fill" min="0" max="100" value="30">
                            <button id="random-fill-btn">Fill Random</button>
                        </div>
                    </div>

                    <div class="panel-section">
                        <h2>Emoji Mapping</h2>
                        <div class="control-group">
                            <label for="emoji-set-select">Emoji Set:</label>
                            <select id="emoji-set-select">
                                <option value="nature">Nature</option>
                                <option value="space">Space</option>
                                <option value="food">Food</option>
                                <option value="weather">Weather</option>
                                <option value="detailed">Detailed (100 Emojis)</option>
                                <option value="color">Color Spectrum</option>
                                <option value="smiley">Emotion Spectrum</option>
                            </select>
                        </div>
                        <div class="emoji-mapping" id="emoji-mapping">
                            <!-- Emoji mappings will be generated here -->
                        </div>
                    </div>

                    <div class="panel-section">
                        <h2>Rules</h2>
                        <div class="control-group">
                            <label>Add New Rule:</label>
                            <div class="control-group">
                                <label for="rule-cell-value">If cell value:</label>
                                <select id="rule-cell-value">
                                    <option value="any">Any</option>
                                    <option value="0">0 (Empty)</option>
                                    <option value="range">In Range</option>
                                </select>
                                <div id="cell-value-range" style="display: none; margin-top: 5px;">
                                    <input type="number" id="cell-value-min" min="0" max="100" value="1" placeholder="Min">
                                    <input type="number" id="cell-value-max" min="0" max="100" value="100" placeholder="Max">
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="rule-neighbor-count">And neighbor count:</label>
                                <select id="rule-neighbor-count">
                                    <option value="exactly">Exactly</option>
                                    <option value="less-than">Less Than</option>
                                    <option value="greater-than">Greater Than</option>
                                    <option value="range">In Range</option>
                                </select>
                                <div id="neighbor-count-value" style="margin-top: 5px;">
                                    <input type="number" id="neighbor-count" min="0" max="8" value="3">
                                </div>
                                <div id="neighbor-count-range" style="display: none; margin-top: 5px;">
                                    <input type="number" id="neighbor-count-min" min="0" max="8" value="2" placeholder="Min">
                                    <input type="number" id="neighbor-count-max" min="0" max="8" value="3" placeholder="Max">
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="rule-neighbor-value">With neighbor values:</label>
                                <select id="rule-neighbor-value">
                                    <option value="any">Any</option>
                                    <option value="non-zero">Non-Zero</option>
                                    <option value="range">In Range</option>
                                </select>
                                <div id="neighbor-value-range" style="display: none; margin-top: 5px;">
                                    <input type="number" id="neighbor-value-min" min="0" max="100" value="1" placeholder="Min">
                                    <input type="number" id="neighbor-value-max" min="0" max="100" value="100" placeholder="Max">
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="rule-new-value">Then set cell value to:</label>
                                <input type="number" id="rule-new-value" min="0" max="100" value="1">
                            </div>
                            <button id="add-rule">Add Rule</button>
                        </div>
                        <div id="rules-list">
                            <!-- Rules will be listed here -->
                        </div>
                    </div>

                    <div class="panel-section">
                        <h2>Presets</h2>
                        <div class="control-group">
                            <label for="preset-select">Load Preset:</label>
                            <select id="preset-select">
                                <option value="">Select a preset</option>
                                <option value="game-of-life">Conway's Game of Life</option>
                                <option value="forest-fire">Forest Fire</option>
                                <option value="cyclic">Cyclic Cellular Automaton</option>
                                <option value="brian-brain">Brian's Brain</option>
                                <option value="gradient-waves">Gradient Waves</option>
                                <option value="ecosystem">Ecosystem Simulation</option>
                                <option value="value-averaging">Value Averaging</option>
                            </select>
                            <button id="load-preset">Load</button>
                        </div>
                    </div>

                    <div class="panel-section">
                        <h2>Save/Load</h2>
                        <div class="control-group">
                            <label for="config-name">Configuration Name:</label>
                            <input type="text" id="config-name" placeholder="My Configuration">
                            <button id="save-config">Save Configuration</button>
                        </div>
                        <div class="saved-configs" id="saved-configs">
                            <!-- Saved configurations will be listed here -->
                        </div>
                        <div class="control-group" style="margin-top: 10px;">
                            <button id="export-config">Export Configuration</button>
                            <button id="import-config">Import Configuration</button>
                        </div>
                    </div>

                    <div class="panel-section">
                        <h2>Statistics</h2>
                        <div class="stats" id="statistics">
                            <!-- Statistics will be displayed here -->
                        </div>
                    </div>
                </div>

                <div class="grid-container">
                    <div class="grid" id="grid"></div>
                    <div class="zoom-controls">
                        <button id="zoom-in">+</button>
                        <button id="zoom-out">-</button>
                    </div>
                </div>
            </div>
        </div>

        <footer style="text-align: center; margin-top: 20px; padding: 10px; background-color: var(--dark-color); color: var(--light-color); border-radius: 8px;">
            <p>Created by
                <a href="https://andreww.xyz" style="color: var(--primary-color); text-decoration: none;">Andrew Wooldridge</a>
            </p>
        </footer>

        <script type="module" src="js/main.js"></script>
    </body>
</html>
